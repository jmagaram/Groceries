<elix-dialog @bind-opened="@IsOpen" @bind-opened:event="openedchange">
    @ChildContent
</elix-dialog>

@code {
    bool _isOpen;
    bool _isOpenChanged = false;

    [Parameter]
    public RenderFragment ChildContent { get; set; }

    [Parameter]
    public bool IsOpen
    {
        get { return _isOpen; }
        set
        {
            if (_isOpen != value) {
                _isOpen = value;
                _isOpenChanged = true;
                StateHasChanged();
            }
        }
    }

    [Parameter]
    public EventCallback<bool> IsOpenChanged { get; set; }

    protected override async Task OnAfterRenderAsync(bool firstRender) {
        if (_isOpenChanged) {
            await IsOpenChanged.InvokeAsync(IsOpen);
            _isOpenChanged = false;
        }
    }
}
